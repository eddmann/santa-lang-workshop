--TEST--
evaluator: closures
--FILE--
let tally = || {
  let mut x = 0;
  |y| { x = x + y }
};
let fn = tally();
puts(fn(1));
puts(fn(2));
puts(fn(3));

let mut x = 0;
let tally2 = || {
  |y| { x = x + y }
};
let fn2 = tally2();
puts(fn2(1));
puts(fn2(2));
puts(fn2(3));
puts(x);
--EXPECT--
1 
3 
6 
1 
3 
6 
6 
nil